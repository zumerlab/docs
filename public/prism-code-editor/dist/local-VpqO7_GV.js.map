{"version":3,"file":"local-VpqO7_GV.js","sources":["../src/utils/local.ts"],"sourcesContent":["import { EditorEventMap, isChrome, PrismEditor } from \"../index.js\"\r\n\r\nconst scrollToEl = (editor: PrismEditor, el: HTMLElement, paddingTop = 0) => {\r\n\tconst style1 = editor.scrollContainer.style,\r\n\t\tstyle2 = document.documentElement.style\r\n\r\n\tstyle1.scrollPaddingBlock = style2.scrollPaddingBlock = `${paddingTop}px ${\r\n\t\tisChrome && !el.textContent ? el.offsetHeight : 0\r\n\t}px`\r\n\r\n\tel.scrollIntoView({ block: \"nearest\" })\r\n\tstyle1.scrollPaddingBlock = style2.scrollPaddingBlock = \"\"\r\n}\r\n\r\nconst getLineStart = (text: string, position: number) =>\r\n\tposition ? text.lastIndexOf(\"\\n\", position - 1) + 1 : 0\r\n\r\nconst getLineEnd = (text: string, position: number) =>\r\n\t(position = text.indexOf(\"\\n\", position)) + 1 ? position : text.length\r\n\r\nconst addListener = <T extends keyof EditorEventMap>(\r\n\teditor: PrismEditor,\r\n\ttype: T,\r\n\tlistener: EditorEventMap[T],\r\n) => {\r\n\teditor.addListener(type, listener)\r\n\treturn () => editor.removeListener(type, listener)\r\n}\r\n\r\nconst getStyleValue = (el: HTMLElement, prop: keyof CSSStyleDeclaration) =>\r\n\tparseFloat(<string>getComputedStyle(el)[prop])\r\n\r\nexport { scrollToEl, getLineStart, getLineEnd, addListener, getStyleValue }\r\n"],"names":[],"mappings":";AAEA,MAAM,aAAa,CAAC,QAAqB,IAAiB,aAAa,MAAM;AAC5E,QAAM,SAAS,OAAO,gBAAgB,OACrC,SAAS,SAAS,gBAAgB;AAEnC,SAAO,qBAAqB,OAAO,qBAAqB,GAAG,UAAU,MACpE,YAAY,CAAC,GAAG,cAAc,GAAG,eAAe,CACjD;AAEA,KAAG,eAAe,EAAE,OAAO,UAAW,CAAA;AAC/B,SAAA,qBAAqB,OAAO,qBAAqB;AACzD;AAEM,MAAA,eAAe,CAAC,MAAc,aACnC,WAAW,KAAK,YAAY,MAAM,WAAW,CAAC,IAAI,IAAI;AAEvD,MAAM,aAAa,CAAC,MAAc,cAChC,WAAW,KAAK,QAAQ,MAAM,QAAQ,KAAK,IAAI,WAAW,KAAK;AAEjE,MAAM,cAAc,CACnB,QACA,MACA,aACI;AACG,SAAA,YAAY,MAAM,QAAQ;AACjC,SAAO,MAAM,OAAO,eAAe,MAAM,QAAQ;AAClD;AAEM,MAAA,gBAAgB,CAAC,IAAiB,SACvC,WAAmB,iBAAiB,EAAE,EAAE,IAAI,CAAC;"}