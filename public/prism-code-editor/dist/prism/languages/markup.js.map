{"version":3,"file":"markup.js","sources":["../../../src/prism/languages/markup.js"],"sourcesContent":["import { languages } from '../core.js';\r\nimport { clone, insertBefore } from '../utils/language.js';\r\nimport './xml.js';\r\n\r\nvar addLang = (grammar, lang) => {\r\n\tgrammar['language-' + lang] = {\r\n\t\tpattern: /[\\s\\S]+/,\r\n\t\tinside: lang\r\n\t};\r\n\treturn grammar;\r\n};\r\n\r\nvar addInlined = (tagName, lang) => ({\r\n\tpattern: RegExp(`(<${tagName}[^>]*>)(?!</${tagName}>)(?:<!\\\\[CDATA\\\\[(?:[^\\\\]]|\\\\](?!\\\\]>))*\\\\]\\\\]>|(?!<!\\\\[CDATA\\\\[)[\\\\s\\\\S])+?(?=</${tagName}>)`, 'gi'),\r\n\tlookbehind: true,\r\n\tgreedy: true,\r\n\tinside: addLang({\r\n\t\t'included-cdata': {\r\n\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\r\n\t\t\tinside: addLang({\r\n\t\t\t\t'cdata': /^<!\\[CDATA\\[|\\]\\]>$/i\r\n\t\t\t}, lang)\r\n\t\t}\r\n\t}, lang)\r\n});\r\n\r\nvar addAttribute = (attrName, lang) => ({\r\n\tpattern: RegExp(`((?:^|[\"'\\\\s])(?:${attrName})\\\\s*=\\\\s*)(?:\"[^\"]*\"|'[^']*'|[^\\\\s\"'=>]+)`, 'gi'),\r\n\tlookbehind: true,\r\n\tgreedy: true,\r\n\tinside: addLang({\r\n\t\t'punctuation': /^[\"']|[\"']$/,\r\n\t}, lang)\r\n});\r\n\r\nvar markup = languages.svg = languages.mathml = languages.html = languages.markup = clone(languages.xml);\r\n\r\nmarkup.tag.inside['attr-value'].unshift(\r\n\taddAttribute('style', 'css'),\r\n\taddAttribute(/on[a-z]+/.source, 'javascript')\r\n);\r\n\r\ninsertBefore(markup, 'cdata', {\r\n\t'style': addInlined('style', 'css'),\r\n\t'script': addInlined('script', 'javascript')\r\n});\r\n"],"names":[],"mappings":";;;AAIA,IAAI,UAAU,CAAC,SAAS,SAAS;AAChC,UAAQ,cAAc,IAAI,IAAI;AAAA,IAC7B,SAAS;AAAA,IACT,QAAQ;AAAA,EACV;AACC,SAAO;AACR;AAEA,IAAI,aAAa,CAAC,SAAS,UAAU;AAAA,EACpC,SAAS,OAAO,KAAK,OAAO,eAAe,OAAO,gFAAqF,OAAO,MAAM,IAAI;AAAA,EACxJ,YAAY;AAAA,EACZ,QAAQ;AAAA,EACR,QAAQ,QAAQ;AAAA,IACf,kBAAkB;AAAA,MACjB,SAAS;AAAA,MACT,QAAQ,QAAQ;AAAA,QACf,SAAS;AAAA,MACT,GAAE,IAAI;AAAA,IACP;AAAA,EACD,GAAE,IAAI;AACR;AAEA,IAAI,eAAe,CAAC,UAAU,UAAU;AAAA,EACvC,SAAS,OAAO,oBAAoB,QAAQ,8CAA8C,IAAI;AAAA,EAC9F,YAAY;AAAA,EACZ,QAAQ;AAAA,EACR,QAAQ,QAAQ;AAAA,IACf,eAAe;AAAA,EACf,GAAE,IAAI;AACR;AAEA,IAAI,SAAS,UAAU,MAAM,UAAU,SAAS,UAAU,OAAO,UAAU,SAAS,MAAM,UAAU,GAAG;AAEvG,OAAO,IAAI,OAAO,YAAY,EAAE;AAAA,EAC/B,aAAa,SAAS,KAAK;AAAA,EAC3B,aAAa,YAAmB,YAAY;AAC7C;AAEA,aAAa,QAAQ,SAAS;AAAA,EAC7B,SAAS,WAAW,SAAS,KAAK;AAAA,EAClC,UAAU,WAAW,UAAU,YAAY;AAC5C,CAAC;"}