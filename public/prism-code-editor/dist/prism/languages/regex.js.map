{"version":3,"file":"regex.js","sources":["../../../src/prism/languages/regex.js"],"sourcesContent":["import { languages } from '../core.js';\r\n\r\nvar specialEscape = {\r\n\tpattern: /\\\\[\\\\()[\\]{}^$+*?|.]/,\r\n\talias: 'escape'\r\n};\r\nvar escape = /\\\\(?:x[a-fA-F\\d]{2}|u[a-fA-F\\d]{4}|u\\{[a-fA-F\\d]+\\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/;\r\nvar charSet = {\r\n\tpattern: /\\.|\\\\[wsd]|\\\\p\\{[^{}]+\\}/i,\r\n\talias: 'class-name'\r\n};\r\nvar charSetWithoutDot = {\r\n\tpattern: /\\\\[wsd]|\\\\p\\{[^{}]+\\}/i,\r\n\talias: 'class-name'\r\n};\r\n\r\nvar rangeChar = '(?:[^\\\\\\\\-]|' + escape.source + ')';\r\nvar range = RegExp(rangeChar + '-' + rangeChar);\r\n\r\n// the name of a capturing group\r\nvar groupName = {\r\n\tpattern: /(<|')[^<>']+(?=[>']$)/,\r\n\tlookbehind: true,\r\n\talias: 'variable'\r\n};\r\n\r\nlanguages.regex = {\r\n\t'char-class': {\r\n\t\tpattern: /((?:^|[^\\\\])(?:\\\\\\\\)*)\\[(?:\\\\[\\s\\S]|[^\\\\\\]])*\\]/,\r\n\t\tlookbehind: true,\r\n\t\tinside: {\r\n\t\t\t'char-class-punctuation': {\r\n\t\t\t\tpattern: /^.|.$/g,\r\n\t\t\t\tgreedy: true,\r\n\t\t\t\talias: 'punctuation'\r\n\t\t\t},\r\n\t\t\t'char-class-negation': {\r\n\t\t\t\tpattern: /^\\^/,\r\n\t\t\t\talias: 'operator'\r\n\t\t\t},\r\n\t\t\t'range': {\r\n\t\t\t\tpattern: range,\r\n\t\t\t\tinside: {\r\n\t\t\t\t\t'escape': escape,\r\n\t\t\t\t\t'range-punctuation': {\r\n\t\t\t\t\t\tpattern: /-/,\r\n\t\t\t\t\t\talias: 'operator'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'special-escape': specialEscape,\r\n\t\t\t'char-set': charSetWithoutDot,\r\n\t\t\t'escape': escape\r\n\t\t}\r\n\t},\r\n\t'special-escape': specialEscape,\r\n\t'char-set': charSet,\r\n\t'backreference': [\r\n\t\t{\r\n\t\t\t// a backreference which is not an octal escape\r\n\t\t\tpattern: /\\\\(?![123][0-7]{2})[1-9]/,\r\n\t\t\talias: 'keyword'\r\n\t\t},\r\n\t\t{\r\n\t\t\tpattern: /\\\\k<[^<>']+>/,\r\n\t\t\talias: 'keyword',\r\n\t\t\tinside: {\r\n\t\t\t\t'group-name': groupName\r\n\t\t\t}\r\n\t\t}\r\n\t],\r\n\t'anchor': {\r\n\t\tpattern: /[$^]|\\\\[ABbGZz]/,\r\n\t\talias: 'function'\r\n\t},\r\n\t'escape': escape,\r\n\t'group': [\r\n\t\t{\r\n\t\t\t// https://docs.oracle.com/javase/10/docs/api/java/util/regex/Pattern.html\r\n\t\t\t// https://docs.microsoft.com/en-us/dotnet/standard/base-types/regular-expression-language-quick-reference?view=netframework-4.7.2#grouping-constructs\r\n\r\n\t\t\t// (), (?<name>), (?'name'), (?>), (?:), (?=), (?!), (?<=), (?<!), (?is-m), (?i-m:)\r\n\t\t\tpattern: /(\\()\\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[!=]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?)/,\r\n\t\t\tlookbehind: true,\r\n\t\t\tinside: {\r\n\t\t\t\t'group-name': groupName\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tpattern: /[()]/,\r\n\t\t\talias: 'punctuation'\r\n\t\t}\r\n\t],\r\n\t'quantifier': {\r\n\t\tpattern: /(?:[+*?]|\\{\\d+(?:,\\d*)?\\})[?+]?/,\r\n\t\talias: 'number'\r\n\t},\r\n\t'alternation': {\r\n\t\tpattern: /\\|/,\r\n\t\talias: 'keyword'\r\n\t}\r\n};\r\n"],"names":[],"mappings":";AAEA,IAAI,gBAAgB;AAAA,EACnB,SAAS;AAAA,EACT,OAAO;AACR;AACA,IAAI,SAAS;AACb,IAAI,UAAU;AAAA,EACb,SAAS;AAAA,EACT,OAAO;AACR;AACA,IAAI,oBAAoB;AAAA,EACvB,SAAS;AAAA,EACT,OAAO;AACR;AAEA,IAAI,YAAY,iBAAiB,OAAO,SAAS;AACjD,IAAI,QAAQ,OAAO,YAAY,MAAM,SAAS;AAG9C,IAAI,YAAY;AAAA,EACf,SAAS;AAAA,EACT,YAAY;AAAA,EACZ,OAAO;AACR;AAEA,UAAU,QAAQ;AAAA,EACjB,cAAc;AAAA,IACb,SAAS;AAAA,IACT,YAAY;AAAA,IACZ,QAAQ;AAAA,MACP,0BAA0B;AAAA,QACzB,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,OAAO;AAAA,MACP;AAAA,MACD,uBAAuB;AAAA,QACtB,SAAS;AAAA,QACT,OAAO;AAAA,MACP;AAAA,MACD,SAAS;AAAA,QACR,SAAS;AAAA,QACT,QAAQ;AAAA,UACP,UAAU;AAAA,UACV,qBAAqB;AAAA,YACpB,SAAS;AAAA,YACT,OAAO;AAAA,UACP;AAAA,QACD;AAAA,MACD;AAAA,MACD,kBAAkB;AAAA,MAClB,YAAY;AAAA,MACZ,UAAU;AAAA,IACV;AAAA,EACD;AAAA,EACD,kBAAkB;AAAA,EAClB,YAAY;AAAA,EACZ,iBAAiB;AAAA,IAChB;AAAA;AAAA,MAEC,SAAS;AAAA,MACT,OAAO;AAAA,IACP;AAAA,IACD;AAAA,MACC,SAAS;AAAA,MACT,OAAO;AAAA,MACP,QAAQ;AAAA,QACP,cAAc;AAAA,MACd;AAAA,IACD;AAAA,EACD;AAAA,EACD,UAAU;AAAA,IACT,SAAS;AAAA,IACT,OAAO;AAAA,EACP;AAAA,EACD,UAAU;AAAA,EACV,SAAS;AAAA,IACR;AAAA;AAAA;AAAA;AAAA,MAKC,SAAS;AAAA,MACT,YAAY;AAAA,MACZ,QAAQ;AAAA,QACP,cAAc;AAAA,MACd;AAAA,IACD;AAAA,IACD;AAAA,MACC,SAAS;AAAA,MACT,OAAO;AAAA,IACP;AAAA,EACD;AAAA,EACD,cAAc;AAAA,IACb,SAAS;AAAA,IACT,OAAO;AAAA,EACP;AAAA,EACD,eAAe;AAAA,IACd,SAAS;AAAA,IACT,OAAO;AAAA,EACP;AACF;"}