{"version":3,"file":"rust.js","sources":["../../../src/prism/languages/rust.js"],"sourcesContent":["import { languages, rest } from '../core.js';\r\nimport { boolean } from '../utils/patterns.js';\r\nimport { nested } from '../utils/shared.js';\r\n\r\nvar multilineComment = nested(/\\/\\*(?:[^*/]|\\*(?!\\/)|\\/(?!\\*)|<self>)*\\*\\//.source, 2);\r\nvar string = {\r\n\tpattern: /b?\"(?:\\\\[\\s\\S]|[^\\\\\"])*\"|b?r(#*)\"(?:[^\"]|\"(?!\\1))*\"\\1/g,\r\n\tgreedy: true\r\n};\r\nvar paramsInside = {\r\n\t'closure-punctuation': {\r\n\t\tpattern: /^\\||\\|$/,\r\n\t\talias: 'punctuation'\r\n\t}\r\n};\r\n\r\nparamsInside[rest] = languages.rust = {\r\n\t'comment': {\r\n\t\tpattern: RegExp(\"//.*|\" + multilineComment, 'g'),\r\n\t\tgreedy: true\r\n\t},\r\n\t'string': string,\r\n\t'char': {\r\n\t\tpattern: /b?'(?:\\\\(?:x[0-7][a-fA-F\\d]|u\\{(?:[a-fA-F\\d]_*){1,6}\\}|.)|[^\\\\\\n\\t'])'/g,\r\n\t\tgreedy: true\r\n\t},\r\n\t'attribute': {\r\n\t\tpattern: /#!?\\[(?:[^[\\]\"]|\"(?:\\\\[\\s\\S]|[^\\\\\"])*\")*\\]/g,\r\n\t\tgreedy: true,\r\n\t\talias: 'attr-name',\r\n\t\tinside: {\r\n\t\t\t'string': string\r\n\t\t}\r\n\t},\r\n\r\n\t// Closure params should not be confused with bitwise OR |\r\n\t'closure-params': {\r\n\t\tpattern: /([=(,:]\\s*|\\bmove\\s*)\\|[^|]*\\||\\|[^|]*\\|(?=\\s*(?:\\{|->))/g,\r\n\t\tlookbehind: true,\r\n\t\tgreedy: true,\r\n\t\tinside: paramsInside\r\n\t},\r\n\r\n\t'lifetime-annotation': {\r\n\t\tpattern: /'\\w+/,\r\n\t\talias: 'symbol'\r\n\t},\r\n\r\n\t'fragment-specifier': {\r\n\t\tpattern: /(\\$\\w+:)[a-z]+/,\r\n\t\tlookbehind: true,\r\n\t\talias: 'punctuation'\r\n\t},\r\n\t'variable': /\\$\\w+/,\r\n\r\n\t'function-definition': {\r\n\t\tpattern: /(\\bfn\\s+)\\w+/,\r\n\t\tlookbehind: true,\r\n\t\talias: 'function'\r\n\t},\r\n\t'type-definition': {\r\n\t\tpattern: /(\\b(?:enum|struct|trait|type|union)\\s+)\\w+/,\r\n\t\tlookbehind: true,\r\n\t\talias: 'class-name'\r\n\t},\r\n\t'module-declaration': [\r\n\t\t{\r\n\t\t\tpattern: /(\\b(?:crate|mod)\\s+)[a-z][a-z_\\d]*/,\r\n\t\t\tlookbehind: true,\r\n\t\t\talias: 'namespace'\r\n\t\t},\r\n\t\t{\r\n\t\t\tpattern: /(\\b(?:crate|self|super)\\s*)::\\s*[a-z][a-z_\\d]*\\b(?:\\s*::(?:\\s*[a-z][a-z_\\d]*\\s*::)*)?/,\r\n\t\t\tlookbehind: true,\r\n\t\t\talias: 'namespace',\r\n\t\t\tinside: {\r\n\t\t\t\t'punctuation': /::/\r\n\t\t\t}\r\n\t\t}\r\n\t],\r\n\t// https://github.com/rust-lang/reference/blob/master/src/keywords.md\r\n\t// primitives and str\r\n\t// https://doc.rust-lang.org/stable/rust-by-example/primitives.html\r\n\t'keyword': /\\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield|bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\\b/,\r\n\t// functions can technically start with an upper-case letter, but this will introduce a lot of false positives\r\n\t// and Rust's naming conventions recommend snake_case anyway.\r\n\t// https://doc.rust-lang.org/1.0.0/style/style/naming/README.html\r\n\t'function': /\\b[a-z_]\\w*(?=\\s*(?:::\\s*<|\\())/,\r\n\t'macro': {\r\n\t\tpattern: /\\b\\w+!/,\r\n\t\talias: 'property'\r\n\t},\r\n\t'constant': /\\b[A-Z_][A-Z_\\d]+\\b/,\r\n\t'class-name': /\\b[A-Z]\\w*\\b/,\r\n\r\n\t'namespace': {\r\n\t\tpattern: /(?:\\b[a-z][a-z_\\d]*\\s*::\\s*)*\\b[a-z][a-z_\\d]*\\s*::(?!\\s*<)/,\r\n\t\tinside: {\r\n\t\t\t'punctuation': /::/\r\n\t\t}\r\n\t},\r\n\r\n\t// Hex, oct, bin, dec numbers with visual separators and type suffix\r\n\t'number': /\\b(?:0x[a-fA-F\\d](?:_?[a-fA-F\\d])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\\d(?:_?\\d)*)?\\.)?\\d(?:_?\\d)*(?:[Ee][+-]?\\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\\b/,\r\n\t'boolean': boolean,\r\n\t'punctuation': /->|\\.\\.=|\\.{1,3}|::|[()[\\]{},:;]/,\r\n\t'operator': /&&|\\|\\||=>|>>=?|<<=?|[%&|^!=<>/*+-]=?|[@?]/\r\n};\r\n"],"names":[],"mappings":";;;AAIA,IAAI,mBAAmB,OAAO,+CAAsD,CAAC;AACrF,IAAI,SAAS;AAAA,EACZ,SAAS;AAAA,EACT,QAAQ;AACT;AACA,IAAI,eAAe;AAAA,EAClB,uBAAuB;AAAA,IACtB,SAAS;AAAA,IACT,OAAO;AAAA,EACP;AACF;AAEA,aAAa,IAAI,IAAI,UAAU,OAAO;AAAA,EACrC,WAAW;AAAA,IACV,SAAS,OAAO,UAAU,kBAAkB,GAAG;AAAA,IAC/C,QAAQ;AAAA,EACR;AAAA,EACD,UAAU;AAAA,EACV,QAAQ;AAAA,IACP,SAAS;AAAA,IACT,QAAQ;AAAA,EACR;AAAA,EACD,aAAa;AAAA,IACZ,SAAS;AAAA,IACT,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,QAAQ;AAAA,MACP,UAAU;AAAA,IACV;AAAA,EACD;AAAA;AAAA,EAGD,kBAAkB;AAAA,IACjB,SAAS;AAAA,IACT,YAAY;AAAA,IACZ,QAAQ;AAAA,IACR,QAAQ;AAAA,EACR;AAAA,EAED,uBAAuB;AAAA,IACtB,SAAS;AAAA,IACT,OAAO;AAAA,EACP;AAAA,EAED,sBAAsB;AAAA,IACrB,SAAS;AAAA,IACT,YAAY;AAAA,IACZ,OAAO;AAAA,EACP;AAAA,EACD,YAAY;AAAA,EAEZ,uBAAuB;AAAA,IACtB,SAAS;AAAA,IACT,YAAY;AAAA,IACZ,OAAO;AAAA,EACP;AAAA,EACD,mBAAmB;AAAA,IAClB,SAAS;AAAA,IACT,YAAY;AAAA,IACZ,OAAO;AAAA,EACP;AAAA,EACD,sBAAsB;AAAA,IACrB;AAAA,MACC,SAAS;AAAA,MACT,YAAY;AAAA,MACZ,OAAO;AAAA,IACP;AAAA,IACD;AAAA,MACC,SAAS;AAAA,MACT,YAAY;AAAA,MACZ,OAAO;AAAA,MACP,QAAQ;AAAA,QACP,eAAe;AAAA,MACf;AAAA,IACD;AAAA,EACD;AAAA;AAAA;AAAA;AAAA,EAID,WAAW;AAAA;AAAA;AAAA;AAAA,EAIX,YAAY;AAAA,EACZ,SAAS;AAAA,IACR,SAAS;AAAA,IACT,OAAO;AAAA,EACP;AAAA,EACD,YAAY;AAAA,EACZ,cAAc;AAAA,EAEd,aAAa;AAAA,IACZ,SAAS;AAAA,IACT,QAAQ;AAAA,MACP,eAAe;AAAA,IACf;AAAA,EACD;AAAA;AAAA,EAGD,UAAU;AAAA,EACV,WAAW;AAAA,EACX,eAAe;AAAA,EACf,YAAY;AACb;"}