{"version":3,"file":"cooklang.js","sources":["../../../src/prism/languages/cooklang.js"],"sourcesContent":["import { languages } from '../core.js';\r\n\r\n// see https://github.com/cooklang/spec/blob/main/EBNF.md\r\n\r\nvar single_token_suffix = /(?:(?!\\s)[\\d$+<=a-zA-Z\\x80-\\uffff])+/.source;\r\nvar multi_token_infix = /[^{}@#]+/.source;\r\nvar multi_token = multi_token_infix + /\\{[^}#@]*\\}/.source;\r\n\r\nvar amount_group_impl = {\r\n\tpattern: /\\{[^{}]*\\}/,\r\n\tinside: {\r\n\t\t'amount': {\r\n\t\t\tpattern: /([\\{|])[^{}|*%]+/,\r\n\t\t\tlookbehind: true,\r\n\t\t\talias: 'number',\r\n\t\t},\r\n\t\t'unit': {\r\n\t\t\tpattern: /(%)[^}]+/,\r\n\t\t\tlookbehind: true,\r\n\t\t\talias: 'symbol',\r\n\t\t},\r\n\t\t'servings-scaler': {\r\n\t\t\tpattern: /\\*/,\r\n\t\t\talias: 'operator',\r\n\t\t},\r\n\t\t'servings-alternative-separator': {\r\n\t\t\tpattern: /\\|/,\r\n\t\t\talias: 'operator',\r\n\t\t},\r\n\t\t'unit-separator': {\r\n\t\t\tpattern: /(?:%|(\\*)%)/,\r\n\t\t\tlookbehind: true,\r\n\t\t\talias: 'operator',\r\n\t\t},\r\n\t\t'punctuation': /[{}]/,\r\n\t}\r\n};\r\n\r\n\r\nlanguages.cooklang = {\r\n\t// [- comment -]\r\n\t// -- comment\r\n\t'comment': /\\[-[\\s\\S]*?-\\]|--.*/,\r\n\t'meta': { // >> key: value\r\n\t\tpattern: />>.*:.*/,\r\n\t\tinside: {\r\n\t\t\t'property': { // key:\r\n\t\t\t\tpattern: /(>>\\s*)[^\\s:](?:[^:]*[^\\s:])?/,\r\n\t\t\t\tlookbehind: true,\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t'cookware-group': { // #...{...}, #...\r\n\t\tpattern: RegExp(`#(?:${multi_token}|${single_token_suffix})`),\r\n\t\tinside: {\r\n\t\t\t'cookware': {\r\n\t\t\t\tpattern: RegExp(`(^#)(?:${multi_token_infix})`),\r\n\t\t\t\tlookbehind: true,\r\n\t\t\t\talias: 'variable',\r\n\t\t\t},\r\n\t\t\t'cookware-keyword': {\r\n\t\t\t\tpattern: /^#/,\r\n\t\t\t\talias: 'keyword',\r\n\t\t\t},\r\n\t\t\t'quantity-group': {\r\n\t\t\t\tpattern: /\\{[^{}@#]*\\}/,\r\n\t\t\t\tinside: {\r\n\t\t\t\t\t'punctuation': /[{}]/,\r\n\t\t\t\t\t'quantity': {\r\n\t\t\t\t\t\tpattern: /[\\s\\S]+/,\r\n\t\t\t\t\t\talias: 'number',\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\t'ingredient-group': { // @...{...}, @...\r\n\t\tpattern: RegExp(`@(?:${multi_token}|${single_token_suffix})`),\r\n\t\tinside: {\r\n\t\t\t'ingredient': {\r\n\t\t\t\tpattern: RegExp(`(^@)(?:${multi_token_infix})`),\r\n\t\t\t\tlookbehind: true,\r\n\t\t\t\talias: 'variable',\r\n\t\t\t},\r\n\t\t\t'ingredient-keyword': {\r\n\t\t\t\tpattern: /^@/,\r\n\t\t\t\talias: 'keyword',\r\n\t\t\t},\r\n\t\t\t'amount-group': amount_group_impl,\r\n\t\t}\r\n\t},\r\n\t'timer-group': { // ~timer{...}\r\n\t\t// eslint-disable-next-line regexp/sort-alternatives\r\n\t\tpattern: /~(?!\\s)[^@#~{}]*\\{[^{}]*\\}/,\r\n\t\tinside: {\r\n\t\t\t'timer': {\r\n\t\t\t\tpattern: /(^~)[^{]+/,\r\n\t\t\t\tlookbehind: true,\r\n\t\t\t\talias: 'variable',\r\n\t\t\t},\r\n\t\t\t'duration-group': { // {...}\r\n\t\t\t\tpattern: /\\{[^{}]*\\}/,\r\n\t\t\t\tinside: {\r\n\t\t\t\t\t'punctuation': /[{}]/,\r\n\t\t\t\t\t'unit': {\r\n\t\t\t\t\t\tpattern: /(%\\s*)(?:h|hours|hrs|m|min|minutes)\\b/,\r\n\t\t\t\t\t\tlookbehind: true,\r\n\t\t\t\t\t\talias: 'symbol',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'operator': /%/,\r\n\t\t\t\t\t'duration': {\r\n\t\t\t\t\t\tpattern: /\\d+/,\r\n\t\t\t\t\t\talias: 'number',\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'timer-keyword': {\r\n\t\t\t\tpattern: /^~/,\r\n\t\t\t\talias: 'keyword',\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n};\r\n"],"names":[],"mappings":";AAIA,IAAI,sBAAsB;AAC1B,IAAI,oBAAoB;AACxB,IAAI,cAAc,oBAAoB;AAEtC,IAAI,oBAAoB;AAAA,EACvB,SAAS;AAAA,EACT,QAAQ;AAAA,IACP,UAAU;AAAA,MACT,SAAS;AAAA,MACT,YAAY;AAAA,MACZ,OAAO;AAAA,IACP;AAAA,IACD,QAAQ;AAAA,MACP,SAAS;AAAA,MACT,YAAY;AAAA,MACZ,OAAO;AAAA,IACP;AAAA,IACD,mBAAmB;AAAA,MAClB,SAAS;AAAA,MACT,OAAO;AAAA,IACP;AAAA,IACD,kCAAkC;AAAA,MACjC,SAAS;AAAA,MACT,OAAO;AAAA,IACP;AAAA,IACD,kBAAkB;AAAA,MACjB,SAAS;AAAA,MACT,YAAY;AAAA,MACZ,OAAO;AAAA,IACP;AAAA,IACD,eAAe;AAAA,EACf;AACF;AAGA,UAAU,WAAW;AAAA;AAAA;AAAA,EAGpB,WAAW;AAAA,EACX,QAAQ;AAAA;AAAA,IACP,SAAS;AAAA,IACT,QAAQ;AAAA,MACP,YAAY;AAAA;AAAA,QACX,SAAS;AAAA,QACT,YAAY;AAAA,MACZ;AAAA,IACD;AAAA,EACD;AAAA,EACD,kBAAkB;AAAA;AAAA,IACjB,SAAS,OAAO,OAAO,WAAW,IAAI,mBAAmB,GAAG;AAAA,IAC5D,QAAQ;AAAA,MACP,YAAY;AAAA,QACX,SAAS,OAAO,UAAU,iBAAiB,GAAG;AAAA,QAC9C,YAAY;AAAA,QACZ,OAAO;AAAA,MACP;AAAA,MACD,oBAAoB;AAAA,QACnB,SAAS;AAAA,QACT,OAAO;AAAA,MACP;AAAA,MACD,kBAAkB;AAAA,QACjB,SAAS;AAAA,QACT,QAAQ;AAAA,UACP,eAAe;AAAA,UACf,YAAY;AAAA,YACX,SAAS;AAAA,YACT,OAAO;AAAA,UACP;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EACD,oBAAoB;AAAA;AAAA,IACnB,SAAS,OAAO,OAAO,WAAW,IAAI,mBAAmB,GAAG;AAAA,IAC5D,QAAQ;AAAA,MACP,cAAc;AAAA,QACb,SAAS,OAAO,UAAU,iBAAiB,GAAG;AAAA,QAC9C,YAAY;AAAA,QACZ,OAAO;AAAA,MACP;AAAA,MACD,sBAAsB;AAAA,QACrB,SAAS;AAAA,QACT,OAAO;AAAA,MACP;AAAA,MACD,gBAAgB;AAAA,IAChB;AAAA,EACD;AAAA,EACD,eAAe;AAAA;AAAA;AAAA,IAEd,SAAS;AAAA,IACT,QAAQ;AAAA,MACP,SAAS;AAAA,QACR,SAAS;AAAA,QACT,YAAY;AAAA,QACZ,OAAO;AAAA,MACP;AAAA,MACD,kBAAkB;AAAA;AAAA,QACjB,SAAS;AAAA,QACT,QAAQ;AAAA,UACP,eAAe;AAAA,UACf,QAAQ;AAAA,YACP,SAAS;AAAA,YACT,YAAY;AAAA,YACZ,OAAO;AAAA,UACP;AAAA,UACD,YAAY;AAAA,UACZ,YAAY;AAAA,YACX,SAAS;AAAA,YACT,OAAO;AAAA,UACP;AAAA,QACD;AAAA,MACD;AAAA,MACD,iBAAiB;AAAA,QAChB,SAAS;AAAA,QACT,OAAO;AAAA,MACP;AAAA,IACD;AAAA,EACD;AACF;"}