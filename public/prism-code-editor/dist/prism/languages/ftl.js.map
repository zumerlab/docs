{"version":3,"file":"ftl.js","sources":["../../../src/prism/languages/ftl.js"],"sourcesContent":["import { languages, rest, tokenize } from '../core.js';\r\nimport { boolean, clikePunctuation } from '../utils/patterns.js';\r\nimport { nested, re } from '../utils/shared.js';\r\nimport { embeddedIn } from '../utils/templating.js';\r\nimport './markup.js';\r\n\r\n// https://freemarker.apache.org/docs/dgui_template_exp.html\r\n\r\n// FTL expression with 4 levels of nesting supported\r\nvar FTL_EXPR = [nested(/[^<()\"']|\\((?:<self>)*\\)|<(?!#--)|<#--(?:[^-]|-(?!->))*-->|\"(?:\\\\.|[^\\\\\"])*\"|'(?:\\\\.|[^\\\\'])*'/.source, 2)];\r\n\r\nvar interpolationInside = {\r\n\t'interpolation-punctuation': {\r\n\t\tpattern: /^\\$\\{|\\}$/,\r\n\t\talias: 'punctuation'\r\n\t}\r\n};\r\n\r\nvar ftl = interpolationInside[rest] = {\r\n\t'comment': /<#--[\\s\\S]*?-->/,\r\n\t'string': [\r\n\t\t{\r\n\t\t\t// raw string\r\n\t\t\tpattern: /\\br([\"'])(?:\\\\.|(?!\\1)[^\\\\])*\\1/g,\r\n\t\t\tgreedy: true\r\n\t\t},\r\n\t\t{\r\n\t\t\tpattern: re(/([\"'])(?:\\\\.|(?!\\1|\\$\\{)[^\\\\]|\\$\\{(?:(?!\\})<0>)*\\})*\\1/.source, FTL_EXPR, 'g'),\r\n\t\t\tgreedy: true,\r\n\t\t\tinside: {\r\n\t\t\t\t'interpolation': {\r\n\t\t\t\t\tpattern: re(/((?:^|[^\\\\])(?:\\\\\\\\)*)\\$\\{(?:(?!\\})<0>)*\\}/.source, FTL_EXPR),\r\n\t\t\t\t\tlookbehind: true,\r\n\t\t\t\t\tinside: interpolationInside\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t],\r\n\t'keyword': /\\b(?:as)\\b/,\r\n\t'boolean': boolean,\r\n\t'builtin-function': {\r\n\t\tpattern: /((?:^|[^?])\\?\\s*)\\w+/,\r\n\t\tlookbehind: true,\r\n\t\talias: 'function'\r\n\t},\r\n\t'function': /\\b\\w+(?=\\s*\\()/,\r\n\t'number': /\\b\\d+(?:\\.\\d+)?\\b/,\r\n\t'operator': /\\.\\.[<*!]?|->|--|\\+\\+|&&|\\|\\||\\?\\??|[%!=<>/*+-]=?|\\b[gl]te?\\b/,\r\n\t'punctuation': clikePunctuation\r\n};\r\n\r\nlanguages.ftl = {\r\n\t'ftl-comment': {\r\n\t\tpattern: /<#--[\\s\\S]*?-->/g,\r\n\t\tgreedy: true,\r\n\t\talias: 'comment'\r\n\t},\r\n\t'ftl-directive': {\r\n\t\tpattern: re(/<\\/?[#@][a-zA-Z]<0>*?>/.source, FTL_EXPR, 'gi'),\r\n\t\tgreedy: true,\r\n\t\tinside: {\r\n\t\t\t'punctuation': /^<\\/?|\\/?>$/,\r\n\t\t\t'directive': {\r\n\t\t\t\tpattern: /^[#@][a-z]\\w*/i,\r\n\t\t\t\talias: 'keyword'\r\n\t\t\t},\r\n\t\t\t'ftl': {\r\n\t\t\t\tpattern: /\\s*\\S[\\s\\S]*/,\r\n\t\t\t\talias: 'language-ftl',\r\n\t\t\t\tinside: ftl\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t'ftl-interpolation': {\r\n\t\tpattern: re(/\\$\\{<0>*?\\}/.source, FTL_EXPR, 'gi'),\r\n\t\tgreedy: true,\r\n\t\tinside: {\r\n\t\t\t'punctuation': /^\\$\\{|\\}$/,\r\n\t\t\t'ftl': {\r\n\t\t\t\tpattern: /\\s*\\S[\\s\\S]*/,\r\n\t\t\t\talias: 'language-ftl',\r\n\t\t\t\tinside: ftl\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t[tokenize]: embeddedIn('html')\r\n};\r\n"],"names":[],"mappings":";;;;;AASA,IAAI,WAAW,CAAC,OAAO,4GAAyG,CAAC,CAAC;AAElI,IAAI,sBAAsB;AAAA,EACzB,6BAA6B;AAAA,IAC5B,SAAS;AAAA,IACT,OAAO;AAAA,EACP;AACF;AAEA,IAAI,MAAM,oBAAoB,IAAI,IAAI;AAAA,EACrC,WAAW;AAAA,EACX,UAAU;AAAA,IACT;AAAA;AAAA,MAEC,SAAS;AAAA,MACT,QAAQ;AAAA,IACR;AAAA,IACD;AAAA,MACC,SAAS,GAAG,sEAAiE,UAAU,GAAG;AAAA,MAC1F,QAAQ;AAAA,MACR,QAAQ;AAAA,QACP,iBAAiB;AAAA,UAChB,SAAS,GAAG,wDAAqD,QAAQ;AAAA,UACzE,YAAY;AAAA,UACZ,QAAQ;AAAA,QACR;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EACD,WAAW;AAAA,EACX,WAAW;AAAA,EACX,oBAAoB;AAAA,IACnB,SAAS;AAAA,IACT,YAAY;AAAA,IACZ,OAAO;AAAA,EACP;AAAA,EACD,YAAY;AAAA,EACZ,UAAU;AAAA,EACV,YAAY;AAAA,EACZ,eAAe;AAChB;AAEA,UAAU,MAAM;AAAA,EACf,eAAe;AAAA,IACd,SAAS;AAAA,IACT,QAAQ;AAAA,IACR,OAAO;AAAA,EACP;AAAA,EACD,iBAAiB;AAAA,IAChB,SAAS,GAAG,yBAAiC,UAAU,IAAI;AAAA,IAC3D,QAAQ;AAAA,IACR,QAAQ;AAAA,MACP,eAAe;AAAA,MACf,aAAa;AAAA,QACZ,SAAS;AAAA,QACT,OAAO;AAAA,MACP;AAAA,MACD,OAAO;AAAA,QACN,SAAS;AAAA,QACT,OAAO;AAAA,QACP,QAAQ;AAAA,MACR;AAAA,IACD;AAAA,EACD;AAAA,EACD,qBAAqB;AAAA,IACpB,SAAS,GAAG,kBAAsB,UAAU,IAAI;AAAA,IAChD,QAAQ;AAAA,IACR,QAAQ;AAAA,MACP,eAAe;AAAA,MACf,OAAO;AAAA,QACN,SAAS;AAAA,QACT,OAAO;AAAA,QACP,QAAQ;AAAA,MACR;AAAA,IACD;AAAA,EACD;AAAA,EACD,CAAC,QAAQ,GAAG,WAAW,MAAM;AAC9B;"}