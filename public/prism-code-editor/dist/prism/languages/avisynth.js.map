{"version":3,"file":"avisynth.js","sources":["../../../src/prism/languages/avisynth.js"],"sourcesContent":["import { languages } from '../core.js';\r\nimport { clikePunctuation } from '../utils/patterns.js';\r\nimport { re } from '../utils/shared.js';\r\n\r\nvar types = 'bool|clip|float|int|string|val';\r\nvar allinternals = 'is(?:bool|clip|float|int|string)|defined|(?:(?:internal)?function|var)?exists?|apply|assert|default|eval|import|nop|select|undefined|opt_(?:allowfloataudio|avipadscanlines|dwchannelmask|enable_(?:b64a|planartopackedrgb|v210|y3_10_10|y3_10_16)|usewaveextensible|vdubplanarhack)|set(?:cachemode|maxcpu|memorymax|planarlegacyalignment|workingdir)|hex(?:value)?|value|abs|ceil|continued(?:denominator|numerator)?|exp|floor|fmod|frac|log(?:10)?|max|min|muldiv|pi|pow|rand|round|sign|spline|sqrt|a?sinh?|a?cosh?|a?tan[2h]?|(?:bit(?:and|not|x?or|[lr]?shift[aslu]?|sh[lr]|sa[lr]|[lr]rotatel?|ro[rl]|te?st|set(?:count)?|cl(?:ea)?r|ch(?:an)?ge?))|average(?:[bgr]|chroma[uv]|luma)|(?:[rgb]|chroma[uv]|luma|rgb|[yuv](?=difference(?:fromprevious|tonext)))difference(?:fromprevious|tonext)?|[yuvrgb]plane(?:median|min|max|minmaxdifference)|getprocessinfo|logmsg|script(?:dir(?:utf8)?|file(?:utf8)?|name(?:utf8)?)|setlogparams|chr|(?:fill|find|left|mid|replace|rev|right)str|format|[lu]case|ord|str(?:cmpi?|fromutf8|len|toutf8)|time|trim(?:all|left|right)|isversionorgreater|version(?:number|string)|buildpixeltype|colorspacenametopixeltype|addautoloaddir|on(?:cpu|cuda)|prefetch|setfiltermtmode|has(?:audio|video)|height|width|frame(?:count|rate(?:denominator|numerator)?)|getparity|is(?:field|frame)based|bitspercomponent|componentsize|hasalpha|is(?:planar(?:rgba?)?|interleaved|rgb(?:24|32|48|64)?|y(?:8|u(?:va?|y2))?|yv(?:12|16|24|411)|420|422|444|packedrgb)|numcomponents|pixeltype|audio(?:bits|channels|duration|length(?:[fs]|hi|lo)?|rate)|isaudio(?:float|int)|avi(?:file)?source|directshowsource|image(?:reader|source|sourceanim)|opendmlsource|segmented(?:avisource|directshowsource)|wavsource|coloryuv|convertbacktoyuy2|convertto(?:RGB(?:24|32|48|64)|(?:planar)?RGBA?|Y8?|YV(?:12|16|24|411)|YUVA?(?:411|420|422|444)|YUY2)|fixluminance|gr[ae]yscale|invert|levels|limiter|mergea?rgb|merge(?:chroma|luma)|rgbadjust|show(?:alpha|blue|green|red)|swapuv|tweak|[uv]toy8?|ytouv|(?:colorkey|reset)mask|layer|mask(?:hs)?|merge|overlay|subtract|addborders|(?:bicubic|bilinear|blackman|gauss|lanczos4|lanczos|point|sinc|spline(?:16|36|64))resize|crop(?:bottom)?|flip(?:horizontal|vertical)|(?:horizontal|vertical)?reduceby2|letterbox|skewrows|turn(?:180|left|right)|blur|fixbrokenchromaupsampling|generalconvolution|(?:spatial|temporal)soften|sharpen|trim|(?:un)?alignedsplice|(?:assume|assumescaled|change|convert)FPS|(?:delete|duplicate)frame|dissolve|fade(?:in|io|out)[02]?|freezeframe|interleave|loop|reverse|select(?:even|odd|(?:range)?every)|assume[bt]ff|assume(?:field|frame)based|bob|complementparity|doubleweave|peculiarblend|pulldown|separate(?:columns|fields|rows)|swapfields|weave(?:columns|rows)?|amplify(?:db)?|assumesamplerate|audiodub(?:ex)?|audiotrim|convertaudioto(?:(?:8|16|24|32)bit|float)|converttomono|delayaudio|ensurevbrmp3sync|get(?:left|right)?channel|kill(?:audio|video)|mergechannels|mixaudio|monotostereo|normalize|resampleaudio|ssrc|supereq|timestretch|animate|applyrange|conditional(?:filter|reader|select)|frameevaluate|scriptclip|tcp(?:server|source)|writefile(?:end|if|start)?|imagewriter|blackness|blankclip|colorbars(?:hd)?|compare|dumpfiltergraph|echo|histogram|info|messageclip|preroll|setgraphanalysis|show(?:framenumber|smpte|time)|showfiveversions|stack(?:horizontal|vertical)|subtitle|tone|version';\r\n\r\nlanguages.avs = languages.avisynth = {\r\n\t'comment': {\r\n\t\tpattern: /#.*|\\/\\*[\\s\\S]*?(?:\\*\\/|$)|\\[\\*(?:[^\\[*]|\\[(?!\\*)|\\*(?!\\])|\\[\\*(?:[^\\[*]|\\[(?!\\*)|\\*(?!\\]))*\\*\\])*\\*\\]/g,\r\n\t\tgreedy: true\r\n\t},\r\n\t// Handle before strings because optional arguments are surrounded by double quotes\r\n\t'argument': {\r\n\t\tpattern: re(/\\b<0>\\s+(\"?)\\w+\\1/.source, [types], 'i'),\r\n\t\tinside: {\r\n\t\t\t'keyword': /^\\w+/\r\n\t\t}\r\n\t},\r\n\r\n\t// Optional argument assignment\r\n\t'argument-label': {\r\n\t\tpattern: /([,(][\\s\\\\]*)\\w+\\s*=(?!=)/,\r\n\t\tlookbehind: true,\r\n\t\tinside: {\r\n\t\t\t'argument-name': {\r\n\t\t\t\tpattern: /\\w+/,\r\n\t\t\t\talias: 'punctuation'\r\n\t\t\t},\r\n\t\t\t'punctuation': /=/\r\n\t\t}\r\n\t},\r\n\r\n\t'string': [\r\n\t\t{\r\n\t\t\t// triple double-quoted\r\n\t\t\tpattern: /\"\"\"[\\s\\S]*?\"\"\"/g,\r\n\t\t\tgreedy: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\t// single double-quoted\r\n\t\t\tpattern: /\"(?:\\\\[\\s\\S]|[^\\\\\\n\"])*\"/g,\r\n\t\t\tgreedy: true,\r\n\t\t\tinside: {\r\n\t\t\t\t'constant': {\r\n\t\t\t\t\t// These *are* case-sensitive!\r\n\t\t\t\t\tpattern: /\\b(?:DEFAULT_MT_MODE|(?:MAINSCRIPT|PROGRAM|SCRIPT)DIR|(?:MACHINE|USER)_(?:CLASSIC|PLUS)_PLUGINS)\\b/\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t],\r\n\r\n\t// The special \"last\" variable that takes the value of the last implicitly returned clip\r\n\t'variable': /\\b(?:last)\\b/i,\r\n\r\n\t'boolean': /\\b(?:false|true|no|yes)\\b/i,\r\n\r\n\t'keyword': /\\b(?:catch|else|for|function|global|if|return|try|while|__end__)\\b/i,\r\n\r\n\t'constant': /\\bMT_(?:MULTI_INSTANCE|NICE_FILTER|SERIALIZED|SPECIAL_MT)\\b/,\r\n\r\n\t// AviSynth's internal functions, filters, and properties\r\n\t'builtin-function': {\r\n\t\tpattern: re(/\\b<0>\\b/.source, [allinternals], 'i'),\r\n\t\talias: 'function'\r\n\t},\r\n\r\n\t'type-cast': {\r\n\t\tpattern: re(/\\b<0>(?=\\s*\\()/.source, [types], 'i'),\r\n\t\talias: 'keyword'\r\n\t},\r\n\r\n\t// External/user-defined filters\r\n\t'function': {\r\n\t\tpattern: /\\b[a-z_]\\w*(?=\\s*\\()|(\\.)[a-z_]\\w*\\b/i,\r\n\t\tlookbehind: true\r\n\t},\r\n\r\n\t// Matches a \\ as the first or last character on a line\r\n\t'line-continuation': {\r\n\t\tpattern: /(^[ \\t]*)\\\\|\\\\(?=[ \\t]*$)/m,\r\n\t\tlookbehind: true,\r\n\t\talias: 'punctuation'\r\n\t},\r\n\r\n\t'number': /\\B\\$(?:[a-f\\d]{6}|[a-f\\d]{8})\\b|(?:(?:\\b|\\B-)\\d+(?:\\.\\d*)?\\b|\\B\\.\\d+\\b)/i,\r\n\r\n\t'operator': /\\+\\+?|[!=<>]=?|&&|\\|\\||[?:%/*-]/,\r\n\r\n\t'punctuation': clikePunctuation\r\n};\r\n"],"names":[],"mappings":";;;AAIA,IAAI,QAAQ;AACZ,IAAI,eAAe;AAEnB,UAAU,MAAM,UAAU,WAAW;AAAA,EACpC,WAAW;AAAA,IACV,SAAS;AAAA,IACT,QAAQ;AAAA,EACR;AAAA;AAAA,EAED,YAAY;AAAA,IACX,SAAS,GAAG,yBAA4B,CAAC,KAAK,GAAG,GAAG;AAAA,IACpD,QAAQ;AAAA,MACP,WAAW;AAAA,IACX;AAAA,EACD;AAAA;AAAA,EAGD,kBAAkB;AAAA,IACjB,SAAS;AAAA,IACT,YAAY;AAAA,IACZ,QAAQ;AAAA,MACP,iBAAiB;AAAA,QAChB,SAAS;AAAA,QACT,OAAO;AAAA,MACP;AAAA,MACD,eAAe;AAAA,IACf;AAAA,EACD;AAAA,EAED,UAAU;AAAA,IACT;AAAA;AAAA,MAEC,SAAS;AAAA,MACT,QAAQ;AAAA,IACR;AAAA,IACD;AAAA;AAAA,MAEC,SAAS;AAAA,MACT,QAAQ;AAAA,MACR,QAAQ;AAAA,QACP,YAAY;AAAA;AAAA,UAEX,SAAS;AAAA,QACT;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA;AAAA,EAGD,YAAY;AAAA,EAEZ,WAAW;AAAA,EAEX,WAAW;AAAA,EAEX,YAAY;AAAA;AAAA,EAGZ,oBAAoB;AAAA,IACnB,SAAS,GAAG,aAAkB,CAAC,YAAY,GAAG,GAAG;AAAA,IACjD,OAAO;AAAA,EACP;AAAA,EAED,aAAa;AAAA,IACZ,SAAS,GAAG,qBAAyB,CAAC,KAAK,GAAG,GAAG;AAAA,IACjD,OAAO;AAAA,EACP;AAAA;AAAA,EAGD,YAAY;AAAA,IACX,SAAS;AAAA,IACT,YAAY;AAAA,EACZ;AAAA;AAAA,EAGD,qBAAqB;AAAA,IACpB,SAAS;AAAA,IACT,YAAY;AAAA,IACZ,OAAO;AAAA,EACP;AAAA,EAED,UAAU;AAAA,EAEV,YAAY;AAAA,EAEZ,eAAe;AAChB;"}