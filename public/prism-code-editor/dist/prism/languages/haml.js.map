{"version":3,"file":"haml.js","sources":["../../../src/prism/languages/haml.js"],"sourcesContent":["import { languages } from '../core.js';\r\nimport { re } from '../utils/shared.js';\r\nimport './ruby.js';\r\n\r\nvar haml = languages.haml = {\r\n\t// Multiline stuff should appear before the rest\r\n\r\n\t'multiline-comment': {\r\n\t\tpattern: /(^[ \\t]*)(?:\\/|-#).*(?:$\\s*?\\n\\1[ \\t]+\\S.*)*/m,\r\n\t\tlookbehind: true,\r\n\t\talias: 'comment'\r\n\t},\r\n\r\n\t'multiline-code': {\r\n\t\tpattern: /(^([ \\t]*)(?:[~-]|[&!]?=)).*(?:,[ \\t]*(?:\\n\\2[ \\t].*,[ \\t]*)*(?:\\n\\2[ \\t].+)|\\|[ \\t]*(?:\\n\\2[ \\t].*\\|[ \\t]*)*)/m,\r\n\t\tlookbehind: true,\r\n\t\tinside: 'ruby'\r\n\t}\r\n};\r\n\r\nvar filter_pattern = /(^[ \\t]*):<0>(?:$\\s*?\\n\\1[ \\t]+\\S.*)+/.source;\r\n\r\n// Non exhaustive list of available filters and associated languages\r\n[\r\n\t'css',\r\n\t'coffee',\r\n\t'erb',\r\n\t'javascript',\r\n\t'less',\r\n\t'markdown',\r\n\t'ruby',\r\n\t'scss',\r\n\t'textile'\r\n].forEach(filter => {\r\n\tvar language = filter == 'coffee' ? 'coffeescript' : filter;\r\n\thaml['filter-' + filter] = {\r\n\t\tpattern: re(filter_pattern, [filter], 'm'),\r\n\t\tlookbehind: true,\r\n\t\tinside: {\r\n\t\t\t'filter-name': {\r\n\t\t\t\tpattern: /^:.+/,\r\n\t\t\t\talias: 'symbol'\r\n\t\t\t},\r\n\t\t\t'text': {\r\n\t\t\t\tpattern: /[\\s\\S]+/,\r\n\t\t\t\talias: 'language-' + language,\r\n\t\t\t\tinside: language\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n})\r\n\r\nObject.assign(haml, {\r\n\t'filter': {\r\n\t\tpattern: re(filter_pattern, ['[\\\\w-]+'], 'm'),\r\n\t\tlookbehind: true,\r\n\t\tinside: {\r\n\t\t\t'filter-name': {\r\n\t\t\t\tpattern: /^:.+/,\r\n\t\t\t\talias: 'symbol'\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t'markup': {\r\n\t\tpattern: /(^[ \\t]*)<.+/m,\r\n\t\tlookbehind: true,\r\n\t\tinside: 'markup'\r\n\t},\r\n\t'doctype': {\r\n\t\tpattern: /(^[ \\t]*)!!!(?: .+)?/m,\r\n\t\tlookbehind: true\r\n\t},\r\n\t'tag': {\r\n\t\t// Allows for one nested group of braces\r\n\t\tpattern: /(^[ \\t]*)[%.#][\\w#.-]*[\\w-](?:\\([^)]*\\)|\\{(?:[^{}]|\\{[^}]*\\})*\\}|\\[[^\\]]*\\])*[<>/]*/m,\r\n\t\tlookbehind: true,\r\n\t\tinside: {\r\n\t\t\t'attributes': [\r\n\t\t\t\t{\r\n\t\t\t\t\t// Lookbehind tries to prevent interpolations from breaking it all\r\n\t\t\t\t\t// Allows for one nested group of braces\r\n\t\t\t\t\tpattern: /(^|[^#])\\{(?:[^{}]|\\{[^}]*\\})*\\}/,\r\n\t\t\t\t\tlookbehind: true,\r\n\t\t\t\t\tinside: 'ruby'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tpattern: /\\([^)]+\\)/,\r\n\t\t\t\t\tinside: {\r\n\t\t\t\t\t\t'attr-value': {\r\n\t\t\t\t\t\t\tpattern: /(=\\s*)(?:\"(?:\\\\.|[^\\\\\\n\"])*\"|[^)\\s]+)/,\r\n\t\t\t\t\t\t\tlookbehind: true\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t'attr-name': /[\\w:-]+(?=\\s*!?=|\\s*[,)])/,\r\n\t\t\t\t\t\t'punctuation': /[=(),]/\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tpattern: /\\[[^\\]]+\\]/,\r\n\t\t\t\t\tinside: 'ruby'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t'punctuation': /<|>/\r\n\t\t}\r\n\t},\r\n\t'code': {\r\n\t\tpattern: /(^[ \\t]*(?:[~-]|[&!]?=)).+/m,\r\n\t\tlookbehind: true,\r\n\t\tinside: 'ruby'\r\n\t},\r\n\t// Interpolations in plain text\r\n\t'interpolation': {\r\n\t\tpattern: /#\\{[^}]+\\}/,\r\n\t\tinside: {\r\n\t\t\t'delimiter': {\r\n\t\t\t\tpattern: /^#\\{|\\}$/,\r\n\t\t\t\talias: 'punctuation'\r\n\t\t\t},\r\n\t\t\t'ruby': {\r\n\t\t\t\tpattern: /[\\s\\S]+/,\r\n\t\t\t\tinside: 'ruby'\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t'punctuation': {\r\n\t\tpattern: /(^[ \\t]*)[~=&!-]+/m,\r\n\t\tlookbehind: true\r\n\t}\r\n});\r\n"],"names":[],"mappings":";;;AAIA,IAAI,OAAO,UAAU,OAAO;AAAA;AAAA,EAG3B,qBAAqB;AAAA,IACpB,SAAS;AAAA,IACT,YAAY;AAAA,IACZ,OAAO;AAAA,EACP;AAAA,EAED,kBAAkB;AAAA,IACjB,SAAS;AAAA,IACT,YAAY;AAAA,IACZ,QAAQ;AAAA,EACR;AACF;AAEA,IAAI,iBAAiB;AAGrB;AAAA,EACC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACD,EAAE,QAAQ,YAAU;AACnB,MAAI,WAAW,UAAU,WAAW,iBAAiB;AACrD,OAAK,YAAY,MAAM,IAAI;AAAA,IAC1B,SAAS,GAAG,gBAAgB,CAAC,MAAM,GAAG,GAAG;AAAA,IACzC,YAAY;AAAA,IACZ,QAAQ;AAAA,MACP,eAAe;AAAA,QACd,SAAS;AAAA,QACT,OAAO;AAAA,MACP;AAAA,MACD,QAAQ;AAAA,QACP,SAAS;AAAA,QACT,OAAO,cAAc;AAAA,QACrB,QAAQ;AAAA,MACR;AAAA,IACD;AAAA,EACH;AACA,CAAC;AAED,OAAO,OAAO,MAAM;AAAA,EACnB,UAAU;AAAA,IACT,SAAS,GAAG,gBAAgB,CAAC,SAAS,GAAG,GAAG;AAAA,IAC5C,YAAY;AAAA,IACZ,QAAQ;AAAA,MACP,eAAe;AAAA,QACd,SAAS;AAAA,QACT,OAAO;AAAA,MACP;AAAA,IACD;AAAA,EACD;AAAA,EAED,UAAU;AAAA,IACT,SAAS;AAAA,IACT,YAAY;AAAA,IACZ,QAAQ;AAAA,EACR;AAAA,EACD,WAAW;AAAA,IACV,SAAS;AAAA,IACT,YAAY;AAAA,EACZ;AAAA,EACD,OAAO;AAAA;AAAA,IAEN,SAAS;AAAA,IACT,YAAY;AAAA,IACZ,QAAQ;AAAA,MACP,cAAc;AAAA,QACb;AAAA;AAAA;AAAA,UAGC,SAAS;AAAA,UACT,YAAY;AAAA,UACZ,QAAQ;AAAA,QACR;AAAA,QACD;AAAA,UACC,SAAS;AAAA,UACT,QAAQ;AAAA,YACP,cAAc;AAAA,cACb,SAAS;AAAA,cACT,YAAY;AAAA,YACZ;AAAA,YACD,aAAa;AAAA,YACb,eAAe;AAAA,UACf;AAAA,QACD;AAAA,QACD;AAAA,UACC,SAAS;AAAA,UACT,QAAQ;AAAA,QACR;AAAA,MACD;AAAA,MACD,eAAe;AAAA,IACf;AAAA,EACD;AAAA,EACD,QAAQ;AAAA,IACP,SAAS;AAAA,IACT,YAAY;AAAA,IACZ,QAAQ;AAAA,EACR;AAAA;AAAA,EAED,iBAAiB;AAAA,IAChB,SAAS;AAAA,IACT,QAAQ;AAAA,MACP,aAAa;AAAA,QACZ,SAAS;AAAA,QACT,OAAO;AAAA,MACP;AAAA,MACD,QAAQ;AAAA,QACP,SAAS;AAAA,QACT,QAAQ;AAAA,MACR;AAAA,IACD;AAAA,EACD;AAAA,EACD,eAAe;AAAA,IACd,SAAS;AAAA,IACT,YAAY;AAAA,EACZ;AACF,CAAC;"}