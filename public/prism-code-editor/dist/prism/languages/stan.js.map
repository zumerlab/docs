{"version":3,"file":"stan.js","sources":["../../../src/prism/languages/stan.js"],"sourcesContent":["import { languages } from '../core.js';\r\nimport { boolean } from '../utils/patterns.js';\r\n\r\n// https://mc-stan.org/docs/2_28/reference-manual/bnf-grammars.html\r\n\r\nvar higherOrderFunctions = /\\b(?:algebra_solver|algebra_solver_newton|integrate_1d|integrate_ode|integrate_ode_bdf|integrate_ode_rk45|map_rect|ode_(?:adams|bdf|ckrk|rk45)(?:_tol)?|ode_adjoint_tol_ctl|reduce_sum|reduce_sum_static)\\b/;\r\n\r\nvar expression = {\r\n\tpattern: /(=\\s*)\\S(?:\\S|\\s+(?!\\s))*?(?=\\s*(?:>$|,\\s*\\w+\\s*=))/,\r\n\tlookbehind: true\r\n};\r\n\r\nexpression.inside = languages.stan = {\r\n\t'comment': /\\/\\/.*|\\/\\*[\\s\\S]*?\\*\\/|#(?!include).*/,\r\n\t'string': {\r\n\t\t// String literals can contain spaces and any printable ASCII characters except for \" and \\\r\n\t\t// https://mc-stan.org/docs/2_24/reference-manual/print-statements-section.html#string-literals\r\n\t\tpattern: /\"[ !#-[\\]-~]*\"/g,\r\n\t\tgreedy: true\r\n\t},\r\n\t'directive': {\r\n\t\tpattern: /^([ \\t]*)#include\\b.*/m,\r\n\t\tlookbehind: true,\r\n\t\talias: 'property'\r\n\t},\r\n\r\n\t'function-arg': {\r\n\t\tpattern: RegExp(\r\n\t\t\t`(${higherOrderFunctions.source}\\\\s*\\\\(\\\\s*)[a-zA-Z]\\\\w*`\r\n\t\t),\r\n\t\tlookbehind: true,\r\n\t\talias: 'function'\r\n\t},\r\n\t'constraint': {\r\n\t\tpattern: /(\\b(?:int|matrix|real|row_vector|vector)\\s*)<[^<>]*>/,\r\n\t\tlookbehind: true,\r\n\t\tinside: {\r\n\t\t\t'expression': expression,\r\n\t\t\t'property': /\\b[a-z]\\w*(?=\\s*=)/i,\r\n\t\t\t'operator': /=/,\r\n\t\t\t'punctuation': /^<|>$|,/\r\n\t\t}\r\n\t},\r\n\t'keyword': [\r\n\t\t{\r\n\t\t\tpattern: /\\bdata(?=\\s*\\{)|\\b(?:functions|generated|model|parameters|quantities|transformed)\\b/,\r\n\t\t\talias: 'program-block'\r\n\t\t},\r\n\t\t/\\b(?:array|break|cholesky_factor_corr|cholesky_factor_cov|complex|continue|corr_matrix|cov_matrix|data|else|for|if|increment_log_prob|int?|matrix|ordered|positive_ordered|print|real|reject|return|row_vector|simplex|target|unit_vector|vector|void|while)\\b/,\r\n\t\t// these are functions that are known to take another function as their first argument.\r\n\t\thigherOrderFunctions\r\n\t],\r\n\t'function': /\\b[a-z]\\w*(?=\\s*\\()/i,\r\n\t'number': /(?:\\b\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\B\\.\\d+(?:_\\d+)*)(?:e[+-]?\\d+(?:_\\d+)*)?i?(?!\\w)/i,\r\n\t'boolean': boolean,\r\n\r\n\t'operator': /<-|\\.[*/]=?|\\|\\|?|&&|[!=<>/*+-]=?|['^%~?:]/,\r\n\t'punctuation': /[()[\\]{},;]/\r\n};\r\n"],"names":[],"mappings":";;AAKA,IAAI,uBAAuB;AAE3B,IAAI,aAAa;AAAA,EAChB,SAAS;AAAA,EACT,YAAY;AACb;AAEA,WAAW,SAAS,UAAU,OAAO;AAAA,EACpC,WAAW;AAAA,EACX,UAAU;AAAA;AAAA;AAAA,IAGT,SAAS;AAAA,IACT,QAAQ;AAAA,EACR;AAAA,EACD,aAAa;AAAA,IACZ,SAAS;AAAA,IACT,YAAY;AAAA,IACZ,OAAO;AAAA,EACP;AAAA,EAED,gBAAgB;AAAA,IACf,SAAS;AAAA,MACR,IAAI,qBAAqB,MAAM;AAAA,IAC/B;AAAA,IACD,YAAY;AAAA,IACZ,OAAO;AAAA,EACP;AAAA,EACD,cAAc;AAAA,IACb,SAAS;AAAA,IACT,YAAY;AAAA,IACZ,QAAQ;AAAA,MACP,cAAc;AAAA,MACd,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,eAAe;AAAA,IACf;AAAA,EACD;AAAA,EACD,WAAW;AAAA,IACV;AAAA,MACC,SAAS;AAAA,MACT,OAAO;AAAA,IACP;AAAA,IACD;AAAA;AAAA,IAEA;AAAA,EACA;AAAA,EACD,YAAY;AAAA,EACZ,UAAU;AAAA,EACV,WAAW;AAAA,EAEX,YAAY;AAAA,EACZ,eAAe;AAChB;"}