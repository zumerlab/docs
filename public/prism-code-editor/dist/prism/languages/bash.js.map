{"version":3,"file":"bash.js","sources":["../../../src/prism/languages/bash.js"],"sourcesContent":["import { languages } from '../core.js';\r\n\r\n// $ set | grep '^[A-Z][^[:space:]]*=' | cut -d= -f1 | tr '\\n' '|'\r\n// + LC_ALL, RANDOM, REPLY, SECONDS.\r\n// + make sure PS1..4 are here as they are not always set,\r\n// - some useless things.\r\nvar envVars = '\\\\b(?:BASH(?:OPTS|_ALIASES|_ARG[CV]|_CMDS|_COMPLETION_COMPAT_DIR|_LINENO|_REMATCH|_SOURCE|_VERSINFO|_VERSION)?|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|E?UID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_(?:ADDRESS|ALL|IDENTIFICATION|MEASUREMENT|MONETARY|NAME|NUMERIC|PAPER|TELEPHONE|TIME)|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS[1-4]|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_(?:CONFIG_DIRS|CURRENT_DESKTOP|DATA_DIRS|GREETER_DATA_DIR|MENU_PREFIX|RUNTIME_DIR|SEAT|SEAT_PATH|SESSION_DESKTOP|SESSION_ID|SESSION_PATH|SESSION_TYPE|VTNR)|XMODIFIERS)\\\\b';\r\n\r\nvar commandAfterHeredoc = {\r\n\tpattern: /(^([\"']?)\\w+\\2)[ \\t]+\\S.*/,\r\n\tlookbehind: true,\r\n\talias: 'punctuation', // this looks reasonably well in all themes\r\n};\r\n\r\nvar variableInside = {\r\n\t'variable': /^\\$\\(|^`|\\)$|`$/\r\n};\r\n\r\nvar insideString = {\r\n\t'bash': commandAfterHeredoc,\r\n\t'environment': {\r\n\t\tpattern: RegExp('\\\\$' + envVars),\r\n\t\talias: 'constant'\r\n\t},\r\n\t'variable': [\r\n\t\t// [0]: Arithmetic Environment\r\n\t\t{\r\n\t\t\tpattern: /\\$?\\(\\([\\s\\S]*?\\)\\)/g,\r\n\t\t\tgreedy: true,\r\n\t\t\tinside: {\r\n\t\t\t\t// If there is a $ sign at the beginning highlight $(( and )) as variable\r\n\t\t\t\t'variable': [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpattern: /(^\\$[\\s\\S]+)../,\r\n\t\t\t\t\t\tlookbehind: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t/^\\$\\(\\(/\r\n\t\t\t\t],\r\n\t\t\t\t'number': /\\b0x[a-fA-F\\d]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:[Ee]-?\\d+)?/,\r\n\t\t\t\t// Operators according to https://www.gnu.org/software/bash/manual/bashref.html#Shell-Arithmetic\r\n\t\t\t\t'operator': /--|\\+\\+|&&|\\|\\||(?:\\*\\*|<<|>>|[%&|^!=<>/*+-])=?|[?:~]/,\r\n\t\t\t\t// If there is no $ sign at the beginning highlight (( and )) as punctuation\r\n\t\t\t\t'punctuation': /\\(\\(?|\\)\\)?|,|;/\r\n\t\t\t}\r\n\t\t},\r\n\t\t// [1]: Command Substitution\r\n\t\t{\r\n\t\t\tpattern: /\\$\\((?:[^()]|\\([^)]*\\))*\\)|`[^`]+`/g,\r\n\t\t\tgreedy: true,\r\n\t\t\tinside: variableInside\r\n\t\t},\r\n\t\t// [2]: Brace expansion\r\n\t\t{\r\n\t\t\tpattern: /\\$\\{[^}]*\\}/g,\r\n\t\t\tgreedy: true,\r\n\t\t\tinside: {\r\n\t\t\t\t'operator': /:[?=+-]?|[!/]|##?|%%?|\\^\\^?|,,?/,\r\n\t\t\t\t'punctuation': /[[\\]]/,\r\n\t\t\t\t'environment': {\r\n\t\t\t\t\tpattern: RegExp('(\\\\{)' + envVars),\r\n\t\t\t\t\tlookbehind: true,\r\n\t\t\t\t\talias: 'constant'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t/\\$(?:\\w+|[#?*!@$])/\r\n\t],\r\n\t// Escape sequences from echo and printf's manuals, and escaped quotes.\r\n\t'entity': /\\\\(?:[abceEfnrtv\\\\\"]|O?[0-7]{1,3}|U[a-fA-F\\d]{8}|u[a-fA-F\\d]{4}|x[a-fA-F\\d]{1,2})/\r\n};\r\n\r\nvar bash = commandAfterHeredoc.inside = languages.sh = languages.shell = languages.bash = {\r\n\t'shebang': {\r\n\t\tpattern: /^#!\\s*\\/.*/,\r\n\t\talias: 'important'\r\n\t},\r\n\t'comment': {\r\n\t\tpattern: /(^|[^\"{\\\\$])#.*/,\r\n\t\tlookbehind: true\r\n\t},\r\n\t'function-name': [\r\n\t\t// a) function foo {\r\n\t\t// b) foo() {\r\n\t\t// c) function foo() {\r\n\t\t// but not “foo {”\r\n\t\t{\r\n\t\t\t// a) and c)\r\n\t\t\tpattern: /(\\bfunction\\s+)[\\w-]+(?=(?:\\s*\\(?:\\s*\\))?\\s*\\{)/,\r\n\t\t\tlookbehind: true,\r\n\t\t\talias: 'function'\r\n\t\t},\r\n\t\t{\r\n\t\t\t// b)\r\n\t\t\tpattern: /\\b[\\w-]+(?=\\s*\\(\\s*\\)\\s*\\{)/,\r\n\t\t\talias: 'function'\r\n\t\t}\r\n\t],\r\n\t// Highlight variable names as variables in for and select beginnings.\r\n\t'for-or-select': {\r\n\t\tpattern: /(\\b(?:for|select)\\s+)\\w+(?=\\s+in\\s)/,\r\n\t\tlookbehind: true,\r\n\t\talias: 'variable'\r\n\t},\r\n\t// Highlight variable names as variables in the left-hand part\r\n\t// of assignments (“=” and “+=”).\r\n\t'assign-left': {\r\n\t\tpattern: /(^|[\\s;|&]|[<>]\\()\\w+(?:\\.\\w+)*(?=\\+?=)/,\r\n\t\tlookbehind: true,\r\n\t\talias: 'variable',\r\n\t\tinside: {\r\n\t\t\t'environment': {\r\n\t\t\t\tpattern: RegExp('(^|[\\\\s;|&]|[<>]\\\\()' + envVars),\r\n\t\t\t\tlookbehind: true,\r\n\t\t\t\talias: 'constant'\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t// Highlight parameter names as variables\r\n\t'parameter': {\r\n\t\tpattern: /(^|\\s)-{1,2}(?:\\w+:[+-]?)?\\w+(?:\\.\\w+)*(?![^\\s=])/,\r\n\t\tlookbehind: true,\r\n\t\talias: 'variable'\r\n\t},\r\n\t'string': [\r\n\t\t// Support for Here-documents https://en.wikipedia.org/wiki/Here_document\r\n\t\t{\r\n\t\t\tpattern: /((?:^|[^<])<<-?\\s*)(\\w+)\\s[\\s\\S]*?\\n\\2/g,\r\n\t\t\tlookbehind: true,\r\n\t\t\tgreedy: true,\r\n\t\t\tinside: insideString\r\n\t\t},\r\n\t\t// Here-document with quotes around the tag\r\n\t\t// → No expansion (so no “inside”).\r\n\t\t{\r\n\t\t\tpattern: /((?:^|[^<])<<-?\\s*)([\"'])(\\w+)\\2\\s[\\s\\S]*?\\n\\3/g,\r\n\t\t\tlookbehind: true,\r\n\t\t\tgreedy: true,\r\n\t\t\tinside: {\r\n\t\t\t\t'bash': commandAfterHeredoc\r\n\t\t\t}\r\n\t\t},\r\n\t\t// “Normal” string\r\n\t\t{\r\n\t\t\t// https://www.gnu.org/software/bash/manual/html_node/Double-Quotes.html\r\n\t\t\tpattern: /(^|[^\\\\](?:\\\\\\\\)*)\"(?:\\\\[\\s\\S]|\\$\\([^)]+\\)|\\$(?!\\()|`[^`]+`|[^\\\\\"`$])*\"/g,\r\n\t\t\tlookbehind: true,\r\n\t\t\tgreedy: true,\r\n\t\t\tinside: insideString\r\n\t\t},\r\n\t\t{\r\n\t\t\t// https://www.gnu.org/software/bash/manual/html_node/Single-Quotes.html\r\n\t\t\tpattern: /(^|[^$\\\\])'[^']*'/g,\r\n\t\t\tlookbehind: true,\r\n\t\t\tgreedy: true\r\n\t\t},\r\n\t\t{\r\n\t\t\t// https://www.gnu.org/software/bash/manual/html_node/ANSI_002dC-Quoting.html\r\n\t\t\tpattern: /\\$'(?:\\\\[\\s\\S]|[^\\\\'])*'/g,\r\n\t\t\tgreedy: true,\r\n\t\t\tinside: {\r\n\t\t\t\t'entity': insideString.entity\r\n\t\t\t}\r\n\t\t}\r\n\t],\r\n\t'environment': {\r\n\t\tpattern: RegExp('\\\\$?' + envVars),\r\n\t\talias: 'constant'\r\n\t},\r\n\t'variable': insideString.variable,\r\n\t'function': {\r\n\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|c?fdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cron|crontab|c?split|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff3?|dig|dircolors|dirname|dirs?|dmesg|docker|docker-compose|du|[ef]?grep|eject|env|ethtool|expand|expect|expr|fdformat|fg|file|find|fmt|fold|format|free|fsck|fuser|g?awk|git|g?parted|groupadd|groupdel|groupmod|groups|grub-mkconfig|halt|head|hg|history|host|hostname|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|killall|less|link|ln|logname|logrotate|look|lpc|lprint[dq]?|lprm?|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mm?v|more|most|mtools|m?tr|mutt|nano|nc|netstat|nice|nl|node|nohup|notify-send|nslookup|op|open|passwd|paste|pathchk|ping|p?kill|p?npm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ra[mr]|reboot|remsync|rename|renice|rev|rmdir|rp?m|r?sync|[sr]?cp|screen|sdiff|se[dq]|sendmail|service|s?ftp|shellcheck|shuf|shutdown|sleep|s?locate|[sz]?sh|stat|strace|sudo|sum?|suspend|swapon|sysctl|tac|tail|tar|tee|time|timeout|h?top|touch|traceroute|t?sort|tty|u?mount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vim?|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|g?zip|zsh|zypper)(?=$|[)\\s;|&])/,\r\n\t\tlookbehind: true\r\n\t},\r\n\t'keyword': {\r\n\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\\s;|&])/,\r\n\t\tlookbehind: true\r\n\t},\r\n\t// https://www.gnu.org/software/bash/manual/html_node/Shell-Builtin-Commands.html\r\n\t'builtin': {\r\n\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:\\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|[ls]et|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\\s;|&])/,\r\n\t\tlookbehind: true,\r\n\t\t// Alias added to make those easier to distinguish from strings.\r\n\t\talias: 'class-name'\r\n\t},\r\n\t'boolean': {\r\n\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:false|true)(?=$|[)\\s;|&])/,\r\n\t\tlookbehind: true\r\n\t},\r\n\t'file-descriptor': {\r\n\t\tpattern: /\\B&\\d\\b/,\r\n\t\talias: 'important'\r\n\t},\r\n\t'operator': {\r\n\t\t// Lots of redirections here, but not just that.\r\n\t\tpattern: /\\d?<>|>\\||\\+=|=[=~]?|!=?|<<[<-]?|[&\\d]?>>|\\d[<>]&?|[<>][&=]?|&[>&]?|\\|[&|]?/,\r\n\t\tinside: {\r\n\t\t\t'file-descriptor': {\r\n\t\t\t\tpattern: /^\\d/,\r\n\t\t\t\talias: 'important'\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t'punctuation': /\\$?\\(\\(?|\\)\\)?|\\.\\.|[[\\]{};\\\\]/,\r\n\t'number': {\r\n\t\tpattern: /(^|\\s)(?:[1-9]\\d*|0)(?:[.,]\\d+)?\\b/,\r\n\t\tlookbehind: true\r\n\t}\r\n};\r\n\r\n/* Patterns in command substitution. */\r\n[\r\n\t'comment',\r\n\t'function-name',\r\n\t'for-or-select',\r\n\t'assign-left',\r\n\t'parameter',\r\n\t'string',\r\n\t'environment',\r\n\t'function',\r\n\t'keyword',\r\n\t'builtin',\r\n\t'boolean',\r\n\t'file-descriptor',\r\n\t'operator',\r\n\t'punctuation',\r\n\t'number'\r\n].forEach(copied => variableInside[copied] = bash[copied]);\r\n"],"names":[],"mappings":"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"}