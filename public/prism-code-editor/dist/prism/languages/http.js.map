{"version":3,"file":"http.js","sources":["../../../src/prism/languages/http.js"],"sourcesContent":["import { languages } from '../core.js';\r\n\r\n/**\r\n * @param {string} name\r\n * @param {string} lang\r\n */\r\nvar headerValueOf = (name, lang) => ({\r\n\tpattern: RegExp('(^(?:' + name + '):[ \\t]*)\\\\S[^]*', 'i'),\r\n\tlookbehind: true,\r\n\talias: lang && 'language-' + lang,\r\n\tinside: lang\r\n});\r\n\r\nvar http = languages.http = {\r\n\t'request-line': {\r\n\t\tpattern: /^(?:CONNECT|DELETE|GET|HEAD|OPTIONS|PATCH|POST|PRI|PUT|SEARCH|TRACE)\\s(?:https?:\\/)?\\/\\S*\\sHTTP\\/[\\d.]+/m,\r\n\t\tinside: {\r\n\t\t\t// HTTP Method\r\n\t\t\t'method': {\r\n\t\t\t\tpattern: /^\\w+/,\r\n\t\t\t\talias: 'property'\r\n\t\t\t},\r\n\t\t\t// Request Target e.g. http://example.com, /path/to/file\r\n\t\t\t'request-target': {\r\n\t\t\t\tpattern: /^(\\s)[h/]\\S*/,\r\n\t\t\t\tlookbehind: true,\r\n\t\t\t\talias: 'url',\r\n\t\t\t\tinside: 'uri'\r\n\t\t\t},\r\n\t\t\t// HTTP Version\r\n\t\t\t'http-version': {\r\n\t\t\t\tpattern: /(?!^)\\S+/,\r\n\t\t\t\talias: 'property'\r\n\t\t\t},\r\n\t\t}\r\n\t},\r\n\t'response-status': {\r\n\t\tpattern: /^HTTP\\/[\\d.]+ \\d+ .+/m,\r\n\t\tinside: {\r\n\t\t\t// HTTP Version\r\n\t\t\t'http-version': {\r\n\t\t\t\tpattern: /^\\S+/,\r\n\t\t\t\talias: 'property'\r\n\t\t\t},\r\n\t\t\t// Status Code\r\n\t\t\t'status-code': {\r\n\t\t\t\tpattern: /^( )\\d+(?= )/,\r\n\t\t\t\tlookbehind: true,\r\n\t\t\t\talias: 'number'\r\n\t\t\t},\r\n\t\t\t// Reason Phrase\r\n\t\t\t'reason-phrase': {\r\n\t\t\t\tpattern: /(?!^).+/,\r\n\t\t\t\talias: 'string'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// Create a mapping of Content-Type headers to language definitions\r\n\r\n[\r\n\t'application/javascript',\r\n\t'application/json',\r\n\t'application/xml',\r\n\t'text/xml',\r\n\t'text/html',\r\n\t'text/css',\r\n\t'text/plain'\r\n].forEach(contentType => {\r\n\tvar lang = contentType.split('/')[1];\r\n\tvar pattern = contentType[10] && !lang[4]\r\n\t\t? '(?:' + contentType + '|\\\\w+/(?:[\\\\w.-]+\\\\+)+' + lang + '(?![\\\\w.+-]))' : contentType;\r\n\r\n\thttp[contentType.replace('/', '-')] = {\r\n\t\tpattern: RegExp('(content-type:\\\\s*'+ pattern + '(?:;.*)?(?:\\n[\\\\w-].*)*\\n)[^ \\t\\\\w-][^]*', 'i'),\r\n\t\tlookbehind: true,\r\n\t\talias: 'language-' + lang,\r\n\t\tinside: lang == 'json' ? languages.json || 'js' : lang\r\n\t};\r\n});\r\n\r\nhttp.header = {\r\n\tpattern: /^[\\w-]+:.+(?:\\n[ \\t].+)*/m,\r\n\tinside: {\r\n\t\t'header-value': [\r\n\t\t\theaderValueOf(/Content-Security-Policy/.source, 'csp'),\r\n\t\t\theaderValueOf(/Public-Key-Pins(?:-Report-Only)?/.source, 'hpkp'),\r\n\t\t\theaderValueOf(/Strict-Transport-Security/.source, 'hsts'),\r\n\t\t\theaderValueOf(/[^:]+/.source)\r\n\t\t],\r\n\t\t'header-name': {\r\n\t\t\tpattern: /^[^:]+/,\r\n\t\t\talias: 'keyword'\r\n\t\t},\r\n\t\t'punctuation': /^:/\r\n\t}\r\n};\r\n"],"names":[],"mappings":";AAMA,IAAI,gBAAgB,CAAC,MAAM,UAAU;AAAA,EACpC,SAAS,OAAO,UAAU,OAAO,mBAAoB,GAAG;AAAA,EACxD,YAAY;AAAA,EACZ,OAAO,QAAQ,cAAc;AAAA,EAC7B,QAAQ;AACT;AAEA,IAAI,OAAO,UAAU,OAAO;AAAA,EAC3B,gBAAgB;AAAA,IACf,SAAS;AAAA,IACT,QAAQ;AAAA;AAAA,MAEP,UAAU;AAAA,QACT,SAAS;AAAA,QACT,OAAO;AAAA,MACP;AAAA;AAAA,MAED,kBAAkB;AAAA,QACjB,SAAS;AAAA,QACT,YAAY;AAAA,QACZ,OAAO;AAAA,QACP,QAAQ;AAAA,MACR;AAAA;AAAA,MAED,gBAAgB;AAAA,QACf,SAAS;AAAA,QACT,OAAO;AAAA,MACP;AAAA,IACD;AAAA,EACD;AAAA,EACD,mBAAmB;AAAA,IAClB,SAAS;AAAA,IACT,QAAQ;AAAA;AAAA,MAEP,gBAAgB;AAAA,QACf,SAAS;AAAA,QACT,OAAO;AAAA,MACP;AAAA;AAAA,MAED,eAAe;AAAA,QACd,SAAS;AAAA,QACT,YAAY;AAAA,QACZ,OAAO;AAAA,MACP;AAAA;AAAA,MAED,iBAAiB;AAAA,QAChB,SAAS;AAAA,QACT,OAAO;AAAA,MACP;AAAA,IACD;AAAA,EACD;AACF;AAIA;AAAA,EACC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACD,EAAE,QAAQ,iBAAe;AACxB,MAAI,OAAO,YAAY,MAAM,GAAG,EAAE,CAAC;AACnC,MAAI,UAAU,YAAY,EAAE,KAAK,CAAC,KAAK,CAAC,IACrC,QAAQ,cAAc,2BAA2B,OAAO,kBAAkB;AAE7E,OAAK,YAAY,QAAQ,KAAK,GAAG,CAAC,IAAI;AAAA,IACrC,SAAS,OAAO,uBAAsB,UAAU,2CAA4C,GAAG;AAAA,IAC/F,YAAY;AAAA,IACZ,OAAO,cAAc;AAAA,IACrB,QAAQ,QAAQ,SAAS,UAAU,QAAQ,OAAO;AAAA,EACpD;AACA,CAAC;AAED,KAAK,SAAS;AAAA,EACb,SAAS;AAAA,EACT,QAAQ;AAAA,IACP,gBAAgB;AAAA,MACf,cAAc,2BAAkC,KAAK;AAAA,MACrD,cAAc,oCAA2C,MAAM;AAAA,MAC/D,cAAc,6BAAoC,MAAM;AAAA,MACxD,cAAc,OAAc;AAAA,IAC5B;AAAA,IACD,eAAe;AAAA,MACd,SAAS;AAAA,MACT,OAAO;AAAA,IACP;AAAA,IACD,eAAe;AAAA,EACf;AACF;"}